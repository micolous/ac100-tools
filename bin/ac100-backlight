#!/bin/bash
# Adapted from http://ac100.grandou.net/backlightcontrol

backlight="/sys/class/backlight/pwm-backlight/brightness"

current=$(cat $backlight)

if [ -z "$1" ]; then
	echo $current
	exit 0
fi

case "$1" in

inc )
	new=$((current + 25))
	;;

dec )
	new=$((current - 25))
	;;

* )
	new=$1
	;;

esac # is ridiculous

if [ $new -gt 255 ]; then
	new=255
fi

if [ $new -lt 0 ]; then
	new=0
fi

echo $new > $backlight
